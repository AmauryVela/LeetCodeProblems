
//: Playground - noun: a place where people can play

import UIKit

var str = "abca"

var testCase = "bjfcmfansjfhtfobwetjkkkznhurjdarfcrctwgzormmgqkbyjjybkqgmmrozgwtcrkcfradjruhnzkjkkjtewbofthfjsnafmcfjb"

var testCase2 = "acucucubucucucua"

var ultraCase = "btpxcwiaqmkfattejcxkhllthmqeadqrxnzzauofqctaechdjquobnwppdrcohmvayywihwihrvamjnmdhsilxwdugvmcaikiqirtkynrbowcftgninrwtdrjpnypnepzjozqmhrvlnpleukpmcxvldcwrmrtmeovbymrgkywifgiozuzxudckpvfuvgchemgchnbwpamxbahkqtymimcbjiwohcobrxohpgbfqfvjslkboagaeklssedssdesslkeagaobklsjvfqfbgphoxrbochowijbcmimytqkhabxmapwbnhcgmehcgvufvpkcduxzuzoigfiwykgrmybvoemtrmrwcdlvxcmpkuelpnlvrhmqzojzpenpynpjrdtwrningtfcwobrnyktriqikiacmvgudwxlishdmnjmavrhiwhiwyyavmhocrdppwnbouqjdhceatcqfouazznxrqdaeqmhtllhkxcjettafkmqaiwcxptbe"

var pleaseStorCase = "isftruuwgfhlaskyfnxytwabuaojkxoolaoqvdbqmxgjdphhbfajmzhntrkrzxkmiwsiwwgpgolkpmcwdyxqkewnymztwliapllchcyvgexigdosfafriowkudzdrlfysuqofqlnbtiruqcipctuveoeabvqqhvysygdfomtqpfbvlwuqxysbkusrzufcaytpbaipsuimokwwwucrlnoilcuxiifclelresritbluijbnatccgzltqvfjggjfvqtlzgcctanbjiulbtirserleklcfiixuclionlrcuwwwkomiuspiabptyacfuzrsukbsyxquwlvbfpqtmofdgysyvhqqvbaeoevutcpicquritbnlqfoqusyflrdzdukwoirfafsodgixegvychcllpailwtzmynwekqxydwcmpklogpgwwiswimkxzrkrtnhzmjafbhhpdjgxmqbdvqoalooxkjoaubawtyxnfyksalhbfgwuurtfsi"

var quitYourJobTestCase = "wgilxtrtadlroybszrjxtipmnqvuzqqounupwfkunwmpwmlcszzvypjhdocmorrvcfmcxstxgtpmuhuxzjnbrajbzqeaipuwxxowuptjaksbvgudgmeplzhgyxjfbztwhrywdonmkhggrwmfqkcdklngawgkpfiwmvwwpvppdypiixqnxpcaxbyyhpainnbkppszcjueeljmhcqlsgktcgmbwszvoxcnjdljaunlzrvhhzaxtxdgqrlspzbqvejcsladbhwqqysbnijanxveqcwrhdwccbqfxsrytlavrxscutwvkwbicekaifeakywafmgfofzvrnkokqshfhrfolpngekpuaxjbuzwybwinqtymhqfzuupwryxegwfeernuapomydekfshgoesdfrjufvcrmemqpeglwuvnjjczpyxrxqxhjxwemllhoowlphaztwrlqurcohzwdjbmfqrwatfffjxpbeuescpzbtmffrmenplfcnptvfaabaiheukorszsewvphglwxzjxjyvfirgoleegqhpsmitlqkyfmhhpykqonefqttmqtlaeuvyhlcmjweyylnomrtlfehptirlypviwzxpzjrzwmpscpwsoewrycswmmfxmxfqdmlhocvtbtitkwjcpoevehkawnrdpwrpwghvcrqompioaltwsprvtbkksokxoofszewdtrkuchvcdfjkhpoyjabmmuccnwukpivjclyujzbbidwjrdomylvjoirxejiwlnzlzagugaqgobjklgpszuekxyowmefxgmyjhuwbaholwvbwziyrlcdpzzvusksypmohrhsqopcpjtlsneffockgwfuxicdrrmmoigqgllvdahiimcymlnndnuyvllhuppssfunklblqksydzpryqeluunhztlpytzwdljbosyaukthumtxjfcafepjpgisserkuuaaithfxfsdyxnldkhtwjcfnyjqyzayhnjzbqclipwwpilcqbzjnhyazyqjynfcjwthkdlnxydsfxfhtiaauukressigpjpefacfjxtmuhtkuaysobjldwztypltzhnuuleqyrpzdyskqlblknufssppuhllvyundnnlmycmiihadvllgqgiommrrdcixufwgkcoffensltjpcpoqshrhompysksuvzzpdclryizwbvwlohabwuhjymgxfemwoyxkeuzspglkjbogqagugazlznlwijexriojvlymodrjwdibbzjuylcjvipkuwnccummbajyophkjfdcvhcukrtdwezsfooxkoskkbtvrpswtlaoipmoqrcvhgwprwpdrnwakheveopcjwktitbtvcohlmdqfxmxfmmwscyrweoswpcspmwzjzpxzwivpylritphefltrmonlyyewjmclhyvuealtqmttqfenoqkyphhmfykqltimsphqgeelogrifvyjxjzxwlghpvweszsrokuehiabaafvtpnclpnemrffmtbzpcseuebpxjffftawrqfmbjdwzhocruqlrwtzahplwoohllmewxjhxqxrxypzcjjnvuwlgepqmemrcvfujrfdseoghsfkedymopaunreefwgexyrwpuuzfqhmytqniwbywzubjxaupkegnplofrhfhsqkoknrvzfofgmfawykaefiakecibwkvwtucsxrvaltyrsxfqbccwdhrwcqevxnajinbsyqqwhbdalscjevqbzpslrqgdxtxazhhvrzlnuajldjncxovzswbmgctkgslqchmjleeujczsppkbnniaphyybxacpxnqxiipydppvpwwvmwifpkgwagnlkdckqfmwrgghkmnodwyrhwtzbfjxyghzlpemgdugvbskajtpuwoxxwupiaeqzbjarbnjzxuhumptgxtsxcmfcvrromcodhjpyvzzsclmwpmwnukfwpunuoqqzuvqnmpitxjrzsbyorldatrtxligw"

func validPalindrome(_ s: String) -> Bool {
    if s.count > 50000 {
        return false
    }
    if s == String(s.reversed()) {
        return true
    }

    for index in 0 ..< s.count {
        var originalS = Array(s)
        var originalSBack = Array(s)
        originalS.remove(at: index)
        let reversedIndex = s.count - 1 - index
        originalSBack.remove(at: reversedIndex)
        print(index, reversedIndex)
        if index  > reversedIndex {
            return false
        }

        if String(originalS) == String(String(originalS).reversed()) || String(originalSBack) == String(String(originalSBack).reversed()){
            return true
        }
    }
    return false

}

//validPalindrome(str)
//validPalindrome(testCase)
//validPalindrome(testCase2)
//validPalindrome(ultraCase)
//validPalindrome(pleaseStorCase)
//validPalindrome(quitYourJobTestCase)

func validPalindromeOptimized(_ s: String) -> Bool{
    var left = -1
    var right = s.count
    var stringAsArray = Array(s)
    while (left <  right) {
        left+=1
        right-=1
        if stringAsArray[left] != stringAsArray[right] {
            return palindromeHelper(stringAsArray, left: left, right: right+1) || palindromeHelper(stringAsArray, left: left-1, right: right)
        }

    }
    return true
}

func palindromeHelper(_ s: Array<Character>, left: Int, right: Int) -> Bool{
    var right = right
    var left = left

    while (left <  right) {
        left+=1
        right-=1
        if s[left] != s[right] {
            return false
        }
    }
    return true
}

//validPalindromeOptimized(str)
//validPalindromeOptimized(testCase)
validPalindromeOptimized(testCase2)
//validPalindromeOptimized(ultraCase)
//validPalindromeOptimized(pleaseStorCase)
//validPalindromeOptimized(quitYourJobTestCase)
